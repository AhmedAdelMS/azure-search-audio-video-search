<?xml version="1.0" encoding="utf-8"?>
<tt xml:lang="en-us" xmlns="http://www.w3.org/ns/ttml" xmlns:tts="http://www.w3.org/ns/ttml#styling" xmlns:ttm="http://www.w3.org/ns/ttml#metadata">
  <head>
    <metadata>
      <ttm:title>Media.wvx.aib</ttm:title>
      <ttm:copyright>Copyright (c) 2013 Microsoft Corporation.  All rights reserved.</ttm:copyright>
    </metadata>
    <styling>
      <style xml:id="Style1" tts:fontFamily="proportionalSansSerif" tts:fontSize="0.8c" tts:textAlign="center" tts:color="white" />
    </styling>
    <layout>
      <region style="Style1" xml:id="CaptionArea" tts:origin="0c 12.6c" tts:extent="32c 2.4c" tts:backgroundColor="rgba(0,0,0,160)" tts:displayAlign="center" tts:padding="0.3c 0.5c" />
    </layout>
    <recognizability>0.910</recognizability>
  </head>
  <body region="CaptionArea">
    <div>
      <p begin="00:00:00.050" end="00:00:06.640">All...good afternoon or almost...everyone my name is mark...time with the</p>
      <p begin="00:00:06.640" end="00:00:11.810">...group I run patterns and practices as well as a...spends a lot of time working...customers and</p>
      <p begin="00:00:11.810" end="00:00:14.630">...asher applications and one of the borrowing</p>
      <p begin="00:00:14.630" end="00:00:19.540">...your lives which unfortunately there's no refund policy on the talk a little bit about some of the</p>
      <p begin="00:00:19.540" end="00:00:23.110">...with customers...experienced moments of rapid</p>
      <p begin="00:00:23.110" end="00:00:28.390">and terrifying success and I've had some learning moments in that process share a little bit of the</p>
      <p begin="00:00:28.390" end="00:00:33.010">...share little to the suffering and then talk about what the how things might have gone if we made a</p>
      <p begin="00:00:33.010" end="00:00:36.980">few small choices just a little earlier in the process you seen that</p>
      <p begin="00:00:36.980" end="00:00:42.930">slide already okay so essentially ...walk through the journey to scale a</p>
      <p begin="00:00:42.930" end="00:00:47.920">lot about the process a lot about the questions a lot about the things that help you get ready for</p>
      <p begin="00:00:47.920" end="00:00:52.570">being wildly successful in a website or services delivery without having to over engineer</p>
      <p begin="00:00:52.570" end="00:00:55.540">over build up-front talking about systems that can</p>
      <p begin="00:00:55.540" end="00:01:02.450">experience rapid growth or demand spikes and what are some of the things you can do to get ready for that?</p>
      <p begin="00:01:02.450" end="00:01:05.330">Mostly architecture mostly design decisions</p>
      <p begin="00:01:05.330" end="00:01:10.240">engineering tradeoffs what a lot of code in this one will be a lot of stories there will be intense</p>
      <p begin="00:01:10.240" end="00:01:14.640">...of sarcasm education...of mockery of things I've done if that's a little overwhelming</p>
      <p begin="00:01:14.640" end="00:01:20.090">...lots...a great sessions going on right now but other than that let's dive</p>
      <p begin="00:01:20.090" end="00:01:25.190">...spend an hour together known ran out screaming cool all right.</p>
      <p begin="00:01:25.190" end="00:01:29.740">So, we're not...talk a lot about features regardless of the technology stack you can pretty</p>
      <p begin="00:01:29.740" end="00:01:34.650">much drop anything in here and the same set of physics and the same set of engineering choices apply</p>
      <p begin="00:01:34.650" end="00:01:38.890">...really going to talk about the journey not the destination and the things you can do along</p>
      <p begin="00:01:38.890" end="00:01:41.990">the way or mostly going to talk about scale...availability</p>
      <p begin="00:01:41.990" end="00:01:46.730">being very inextricably tied together and how to leave the door open for successes</p>
      <p begin="00:01:46.730" end="00:01:52.800">...over building some of the stories I'm going to tell their either slightly...or</p>
      <p begin="00:01:52.800" end="00:01:56.630">details them blended together so as not to kind of give away</p>
      <p begin="00:01:56.630" end="00:02:01.500">what really happened because we'll talk about the success stories but analyzer dirty laundry in public</p>
      <p begin="00:02:02.860" end="00:02:08.040">right so this is a direct quote that showed up in my inbox...call it six months ago</p>
      <p begin="00:02:08.040" end="00:02:12.730">wasn't six months but for the perspective, you know, for this talk let's go so today has been</p>
      <p begin="00:02:12.730" end="00:02:15.930">a complete...I do not understand how website crash</p>
      <p begin="00:02:15.930" end="00:02:22.300">immediately upon receiving traffic yes this was from a digital marketing agency so,</p>
      <p begin="00:02:22.300" end="00:02:26.370">any idea why our website might crash immediately upon launch assuming that</p>
      <p begin="00:02:26.370" end="00:02:30.500">is functionally correct and...past all unit testing?</p>
      <p begin="00:02:30.500" end="00:02:34.660">Let's run some number shelley.</p>
      <p begin="00:02:34.660" end="00:02:35.520">Thirty</p>
      <p begin="00:02:35.520" end="00:02:42.010">five thousand requests per second in the first four minutes.</p>
      <p begin="00:02:42.010" end="00:02:46.970">But, we go but this is asher we can build some big stuff on this platform where rock</p>
      <p begin="00:02:46.970" end="00:02:48.220">stars.</p>
      <p begin="00:02:48.220" end="00:02:56.620">Now let's take a little bit deeper.</p>
      <p begin="00:02:56.620" end="00:02:59.240">I think okay I'm actually fairly glad we didn't have a</p>
      <p begin="00:02:59.240" end="00:03:02.400">machine datacenter physically catch on fire.</p>
      <p begin="00:03:02.400" end="00:03:07.450">Kudos to our...our build-out teams for you know, thinking a fire safety.</p>
      <p begin="00:03:07.450" end="00:03:13.950">But, just the tap things off.</p>
      <p begin="00:03:13.950" end="00:03:22.120">So, amazingly...successful launch for the first two hundred fifty milliseconds.</p>
      <p begin="00:03:22.120" end="00:03:26.850">And, then after that things started to get less good the funny part about this particular stories I</p>
      <p begin="00:03:26.850" end="00:03:31.250">was flying down here san-francisco to visit a customer I'm on version amer</p>
      <p begin="00:03:31.250" end="00:03:35.390">...are the version flies around here is I've got my go-go internet and written for my facebook</p>
      <p begin="00:03:35.390" end="00:03:40.520">...I actually see the...question the individual basically saying</p>
      <p begin="00:03:40.520" end="00:03:44.060">hey you guys really...took my thing down and say well,</p>
      <p begin="00:03:44.060" end="00:03:49.130">you know, I'd love to help out and make this thing better and then my link ranks and goes,</p>
      <p begin="00:03:49.130" end="00:03:54.980">yeah, we've got an issue can help validates this was actually kind of near and dear to me so keeping this sort of</p>
      <p begin="00:03:54.980" end="00:03:56.990">situation in mind let's actually go</p>
      <p begin="00:03:56.990" end="00:04:01.170">through what the agency could have done without over</p>
      <p begin="00:04:01.170" end="00:04:05.430">building rover spending a little bit along the way in order to be ready for this</p>
      <p begin="00:04:05.430" end="00:04:09.620">...thirty thousand...ps it's quite doable with the right</p>
      <p begin="00:04:09.620" end="00:04:14.160">...to write design and giving us the right amount money like that last part</p>
      <p begin="00:04:15.520" end="00:04:19.170">okay so we're going to frame discussion on for axes so all of the</p>
      <p begin="00:04:19.170" end="00:04:23.720">measure customer advise routine depth engagements we think about architecture always looking at these</p>
      <p begin="00:04:23.720" end="00:04:25.760">four things are great way to frame the</p>
      <p begin="00:04:25.760" end="00:04:29.640">non functional aspects of the system functional stuff is nebulous</p>
      <p begin="00:04:29.640" end="00:04:34.230">as it is because you're working with humans and...a little fuzzy these are the for that will kill you</p>
      <p begin="00:04:34.230" end="00:04:38.810">...conditions of success and scale scaleability being...things</p>
      <p begin="00:04:38.810" end="00:04:44.250">can I add more resources to the system efficiently that being can I add them and kind of</p>
      <p begin="00:04:44.250" end="00:04:49.390">...use them...them and mi using the deployed resources effectively this is</p>
      <p begin="00:04:49.390" end="00:04:54.040">probably the single biggest change moving from a closed world enterprise system where you can literally</p>
      <p begin="00:04:54.040" end="00:04:58.030">name every single user because there probably are global address list to</p>
      <p begin="00:04:58.030" end="00:05:02.850">going to open world dynamic mode and growth systems where you don't know who's going to show up and if</p>
      <p begin="00:05:02.850" end="00:05:08.600">you're wildly successful the world is going to show up physically the biggest changes</p>
      <p begin="00:05:08.600" end="00:05:12.150">were used to capitalizing for thirty six months out I'm going to look at</p>
      <p begin="00:05:12.150" end="00:05:16.290">my fairly structured load profile and I think how big a set of</p>
      <p begin="00:05:16.290" end="00:05:20.760">...to buy for three years from now and I'm and advertise mechanics across them fantastic</p>
      <p begin="00:05:20.760" end="00:05:24.940">...grossly overpaid for all the stuff I'm not using a replace them</p>
      <p begin="00:05:24.940" end="00:05:29.680">to years anyway luckily in the cloud we have more options but unless we plan</p>
      <p begin="00:05:29.680" end="00:05:34.940">appropriately we can add more small units of work it doesn't work out so well and some</p>
      <p begin="00:05:34.940" end="00:05:39.710">of the inefficiencies that you can get away with in a world we have lots of actress capacity</p>
      <p begin="00:05:39.710" end="00:05:43.680">I'll play so well when the world shows up on your door</p>
      <p begin="00:05:43.680" end="00:05:48.700">course availability you get enough stuff everything fails.</p>
      <p begin="00:05:48.700" end="00:05:52.890">Every single thing is going to fail under enough time enough pressure and enough</p>
      <p begin="00:05:52.890" end="00:05:58.840">humans because humans are the leading cause of outages so who's ever fat fingered configure file update</p>
      <p begin="00:05:58.840" end="00:06:02.190">...system down you don't put your hand-up you're probably weren't paying</p>
      <p begin="00:06:02.190" end="00:06:05.300">attentionI've done this configuration is actually the</p>
      <p begin="00:06:05.300" end="00:06:10.240">most dangerous thing to availability because it is the one piece of your code that has no</p>
      <p begin="00:06:10.240" end="00:06:13.940">error handling I've seen one...two systems in my life</p>
      <p begin="00:06:13.940" end="00:06:18.020">...didn't trust their own configuration almost everything explicitly...</p>
      <p begin="00:06:18.020" end="00:06:25.260">configuration and it's the easiest thing that live edit on a system...talk about that when we get</p>
      <p begin="00:06:25.260" end="00:06:30.220">the single-most important one of this list in terms of operating cloud service or I</p>
      <p begin="00:06:30.220" end="00:06:35.200">large-scale web application experience of scale is manageability telemetry and...</p>
      <p begin="00:06:35.200" end="00:06:40.370">do I actually know what's going on my site and can I make...the twitter is</p>
      <p begin="00:06:40.370" end="00:06:44.950">a very effective site availability tracking mechanism...</p>
      <p begin="00:06:44.950" end="00:06:50.790">very effective because the world will tell you you're down and you suck I would like to explore some options</p>
      <p begin="00:06:50.790" end="00:06:55.240">...have twitter be the thing that doesn't tell you your site is down?</p>
      <p begin="00:06:55.240" end="00:06:59.220">And, if you're doing platform development if you're building release over</p>
      <p begin="00:06:59.220" end="00:07:04.030">release over release feasibility is the system simple enough for your dev team</p>
      <p begin="00:07:04.030" end="00:07:07.670">...your budget to be able to keep building out new releases without</p>
      <p begin="00:07:07.670" end="00:07:13.050">accumulating absurd amounts of technical debt because we all low-paying down technical debt when we have time</p>
      <p begin="00:07:13.050" end="00:07:18.130">and because...have lots of that so for...make sense we have a</p>
      <p begin="00:07:20.080" end="00:07:24.790">Going on really going to hammer on this one because even I was talking to my guys today and he</p>
      <p begin="00:07:24.790" end="00:07:29.640">was having this discussion had actually inflated the two sides of scaleability can I</p>
      <p begin="00:07:29.640" end="00:07:34.980">add more capacity I can go and get a thousand the m but can customers get to them and</p>
      <p begin="00:07:34.980" end="00:07:39.900">...assuming...stateless get to their state or to the piece of state that they need</p>
      <p begin="00:07:39.900" end="00:07:46.370">really this is all about where're the martian points where the contention where the...to be aware of</p>
      <p begin="00:07:46.370" end="00:07:51.200">how do I add more capacity efficiently and subtle considerations especially with regards</p>
      <p begin="00:07:51.200" end="00:07:56.050">to mobile applications requiring push notification come back another story...a second and</p>
      <p begin="00:07:56.050" end="00:08:00.970">then the using capacity more efficiently density traditional performance tuning avoiding</p>
      <p begin="00:08:00.970" end="00:08:06.550">common...patterns and in identifying things like unbalanced workloads the one we're</p>
      <p begin="00:08:06.550" end="00:08:09.480">kind of talking about thus far is a publication workload</p>
      <p begin="00:08:09.480" end="00:08:13.910">...ninety-nine reads for every right it's a bad joke in there but I can't come up with</p>
      <p begin="00:08:13.910" end="00:08:19.380">right now so you know, I traditional see microsoft content management system the</p>
      <p begin="00:08:19.380" end="00:08:23.140">...traditionally architected assumes one read for every right because they both hit</p>
      <p begin="00:08:23.140" end="00:08:26.430">highly consistent database it says that all of these recall</p>
      <p begin="00:08:26.430" end="00:08:29.650">they're not especially conditions of success where one person might</p>
      <p begin="00:08:29.650" end="00:08:34.650">edit one file or one piece of data and then a million reads need to happen on that</p>
      <p begin="00:08:34.650" end="00:08:38.650">do that directly against a single centralized sequel server either</p>
      <p begin="00:08:38.650" end="00:08:42.180">...giant sequel box or a giant oggi series</p>
      <p begin="00:08:42.180" end="00:08:46.520">or pthree or pfour I'm okay with you want to spend more money than you have to</p>
      <p begin="00:08:46.520" end="00:08:49.400">may even encourage it a little bit but that's not today</p>
      <p begin="00:08:49.400" end="00:08:53.400">versus going hey this is primarily read I want to spread that thing out</p>
      <p begin="00:08:54.850" end="00:08:59.490">self-designed considerations first set of questions to go through what kind</p>
      <p begin="00:08:59.490" end="00:09:02.960">of application service...building it all comes from here</p>
      <p begin="00:09:02.960" end="00:09:07.640">is it a burst mode application is where everything has to happen on a single data</p>
      <p begin="00:09:07.640" end="00:09:11.480">...point in time is it something that needs to run only nine-to-five</p>
      <p begin="00:09:11.480" end="00:09:15.890">...can't fail between there is it something that's primarily read is...a</p>
      <p begin="00:09:15.890" end="00:09:21.980">lot of reading right and the question I started ask now...with customers...what portion of your budget</p>
      <p begin="00:09:21.980" end="00:09:26.780">your actual dedicated engineering budget heads time.</p>
      <p begin="00:09:26.780" end="00:09:28.920">Tooling everything is dedicated</p>
      <p begin="00:09:28.920" end="00:09:33.860">...the non functional service fundamentals doing a platform that number is zero you will have</p>
      <p begin="00:09:33.860" end="00:09:38.610">...production learning moment and they are not fun there's a less polite term use for them but I</p>
      <p begin="00:09:38.610" end="00:09:44.800">can use here today so the anybody actually had this bacon...budgets.</p>
      <p begin="00:09:44.800" end="00:09:47.410">Couple...cool how like you guys.</p>
      <p begin="00:09:47.410" end="00:09:51.500">Do you have taken the first-time you did one of these?</p>
      <p begin="00:09:51.500" end="00:09:56.490">...okay so let's go in to other things we already acne</p>
      <p begin="00:09:56.490" end="00:10:01.890">...need a couple nods to...what you're talking about</p>
      <p begin="00:10:01.890" end="00:10:05.880">How when you get into conditions...success there are occasions where yeah,...</p>
      <p begin="00:10:05.880" end="00:10:11.990">really did need that a lot of the balance is going to be the how do you frame the doer how do you create</p>
      <p begin="00:10:11.990" end="00:10:17.310">the conditions for success without having to do all the work way in advance on spec and</p>
      <p begin="00:10:17.310" end="00:10:22.160">really finding that balance between testing before production because you're let's be honest you're always</p>
      <p begin="00:10:22.160" end="00:10:26.990">testing and production whether you want to are not just excepted really what we're talking</p>
      <p begin="00:10:26.990" end="00:10:31.570">...making...decision of how much effort are we going to put in to fill in how much</p>
      <p begin="00:10:31.570" end="00:10:33.290">the test space to prevent</p>
      <p begin="00:10:33.290" end="00:10:39.450">outrageous surprises but people will still do weird things which is we come back to telemetry?</p>
      <p begin="00:10:39.450" end="00:10:44.150">Ok, so, let's talk about a scenario this is kind of mashed up it's an</p>
      <p begin="00:10:44.150" end="00:10:47.660">amount them like three or four different customer scenarios so let's think about building</p>
      <p begin="00:10:47.660" end="00:10:53.330">a website within a company mobile application for tracking sports events this is actually from</p>
      <p begin="00:10:53.330" end="00:10:58.150">an internal test service we use just for understanding various service behavior</p>
      <p begin="00:10:58.150" end="00:11:00.010">...best practices whatnot</p>
      <p begin="00:11:00.010" end="00:11:03.710">...have to key characteristics were have burst mode meaning</p>
      <p begin="00:11:03.710" end="00:11:08.540">that uncertain times a day or certain daily events there's going to...a game on and</p>
      <p begin="00:11:08.540" end="00:11:13.750">during that game everybody's going to show up and then everyone's going to leave so we have these in</p>
      <p begin="00:11:13.750" end="00:11:18.260">this case predictable spikes calendar driven spikes.</p>
      <p begin="00:11:18.260" end="00:11:23.260">But, we also have as a variety of at potential growth because there's some social aspect in here</p>
      <p begin="00:11:23.260" end="00:11:25.910">...hey I'm...go.</p>
      <p begin="00:11:25.910" end="00:11:32.430">For example, this was fantasy football because nodes and addict about that.</p>
      <p begin="00:11:32.430" end="00:11:37.700">Or at least I'm told I will be this fall as the social...you can also get these tipping points</p>
      <p begin="00:11:37.700" end="00:11:42.410">...to come together you can actually show up with a lot of...of success</p>
      <p begin="00:11:42.410" end="00:11:47.220">you didn't anticipate so those are things to watch out for when you designing classes system is</p>
      <p begin="00:11:47.220" end="00:11:48.630">...burst.</p>
      <p begin="00:11:48.630" end="00:11:50.430">You know, if it is...if you can...</p>
      <p begin="00:11:50.430" end="00:11:55.100">that's good or at least if you can schedule it and can you get wildly successful based on</p>
      <p begin="00:11:55.100" end="00:12:00.030">...tipping point in your user base if these are closed world enterprise target applications</p>
      <p begin="00:12:00.030" end="00:12:04.930">you don't actually have to worry about a lot of this stuff because you're user motions don't enabling but in this case</p>
      <p begin="00:12:04.930" end="00:12:10.610">we're a target the hard ones because it's build and let's talk about some hard fun stuff?</p>
      <p begin="00:12:10.610" end="00:12:15.250">Workload decomposition this is key you need to understand the flows in the system and</p>
      <p begin="00:12:15.250" end="00:12:18.860">...relative prioritization there are more I just pulled out three interesting</p>
      <p begin="00:12:18.860" end="00:12:23.770">ones and really what we're looking for is how stateful are they what is the span of</p>
      <p begin="00:12:23.770" end="00:12:28.330">data they touch and it mutable or immutable works so, for example,</p>
      <p begin="00:12:28.330" end="00:12:32.870">listing out see sequence of games it's pretty much always a read workload</p>
      <p begin="00:12:32.870" end="00:12:38.110">your update your schedule once every now and...in fact for many sports events,</p>
      <p begin="00:12:38.110" end="00:12:42.070">you know, the schedule six months in advance and it's not changing outside of an</p>
      <p begin="00:12:42.070" end="00:12:46.340">...that so this is a minimal consistency requirement if it takes</p>
      <p begin="00:12:46.340" end="00:12:50.890">minutes for the sit data updates to flow through the system that's</p>
      <p begin="00:12:50.890" end="00:12:54.760">ok so...certain range of options we can use their the status of a</p>
      <p begin="00:12:54.760" end="00:12:59.960">live event that's a little different...read workload it's continuous can</p>
      <p begin="00:12:59.960" end="00:13:04.730">...updates and I don't know it really comes down to user base of</p>
      <p begin="00:13:04.730" end="00:13:09.290">can I take a second of read consistency can take a couple of seconds it really depends anything below</p>
      <p begin="00:13:09.290" end="00:13:15.290">a second because of network transmission times doesn't really matter all that much anyway and then status of</p>
      <p begin="00:13:15.290" end="00:13:19.610">active-x with mobile...exactly the same as the prior one but we have push notifications</p>
      <p begin="00:13:19.610" end="00:13:24.350">and push notifications with consistently connected sockets puts a</p>
      <p begin="00:13:24.350" end="00:13:28.260">really interesting type of stress on a system that doesn't exist in web workloads.</p>
      <p begin="00:13:29.280" end="00:13:32.080">Because you're testing not just how much work you can</p>
      <p begin="00:13:32.080" end="00:13:35.350">...how many active sockets can be maintained which puts</p>
      <p begin="00:13:35.350" end="00:13:39.760">...interesting stress on your network infrastructure and guess what no</p>
      <p begin="00:13:39.760" end="00:13:44.610">web testing workload out there in the web test tools guess what they don't stress</p>
      <p begin="00:13:45.790" end="00:13:50.750">sockets certain about...seven months ago got a call a</p>
      <p begin="00:13:50.750" end="00:13:54.580">...nice calm reasoned call it a good our.</p>
      <p begin="00:13:54.580" end="00:13:57.110">Now it really wasn't it kind of went liked so,</p>
      <p begin="00:13:57.110" end="00:14:01.930">yeah, we just lander biggest contract we had this live event with our great little mobile application</p>
      <p begin="00:14:01.930" end="00:14:06.620">network fantastic on my desk will heard that one and we had we went</p>
      <p begin="00:14:06.620" end="00:14:11.370">tracking this live event and...my world melted down in five minutes but we tested this</p>
      <p begin="00:14:11.370" end="00:14:16.250">at bigger user loads like okay so we're missing some piece of data here dig in</p>
      <p begin="00:14:16.250" end="00:14:19.230">digg in...so you guys actually tested</p>
      <p begin="00:14:19.230" end="00:14:24.820">was how many requests per second you could push the system on like ten network sockets</p>
      <p begin="00:14:24.820" end="00:14:27.380">...you didn't test was what if you turned on</p>
      <p begin="00:14:27.380" end="00:14:31.240">and million active sockets did you have enough infrastructure deployed</p>
      <p begin="00:14:31.240" end="00:14:35.120">...that the answer is well no they didn't so because a</p>
      <p begin="00:14:35.120" end="00:14:38.840">low fidelity test created a false sense of confidence.</p>
      <p begin="00:14:40.010" end="00:14:44.120">And, we get to the other things that they did that were bad a little bit when we talk about manageability</p>
      <p begin="00:14:44.120" end="00:14:48.130">so again having this list...doesn't take long to put together just what</p>
      <p begin="00:14:48.130" end="00:14:52.630">are the keep workflows to the system how stateful are they are they read are they right whereas</p>
      <p begin="00:14:52.630" end="00:14:58.580">...data come from...any data for a particular user or is it system-wide metadata?</p>
      <p begin="00:14:58.580" end="00:15:02.730">Right so stage one pretty much this is where we've been told you for the</p>
      <p begin="00:15:02.730" end="00:15:05.550">last fifteen years and for certain classes system that</p>
      <p begin="00:15:05.550" end="00:15:09.450">works great for highly dynamic fungible adversity workloads this</p>
      <p begin="00:15:09.450" end="00:15:13.960">...pretty terrible you...replaces with linux and lamp the physics of the same</p>
      <p begin="00:15:13.960" end="00:15:17.660">...still very bad because we can't add a</p>
      <p begin="00:15:17.660" end="00:15:22.850">...easily and I'm also managing is a very low layer of abstraction</p>
      <p begin="00:15:22.850" end="00:15:27.550">...website on ornamentation the transistors...old-school that's not how we want</p>
      <p begin="00:15:27.550" end="00:15:34.430">to do the sorts of things anymore I don't need that much control of my vm is to be successful.</p>
      <p begin="00:15:34.430" end="00:15:38.340">We could see a lot of these in fact this is has three times as many</p>
      <p begin="00:15:38.340" end="00:15:42.550">...three times as many services that first item I mentioned sillier article</p>
      <p begin="00:15:42.550" end="00:15:47.540">...again let's go through the process of figuring out how do we what we have</p>
      <p begin="00:15:47.540" end="00:15:49.760">establish...baseline where are we start with</p>
      <p begin="00:15:50.970" end="00:15:55.780">ok so capacity it's really hard to add capacity to the system because I would need to</p>
      <p begin="00:15:55.780" end="00:15:59.770">manually configure vm get my patch levels right get my software on</p>
      <p begin="00:15:59.770" end="00:16:04.180">their get configured added in integrate with the load balance or I</p>
      <p begin="00:16:04.180" end="00:16:10.230">don't watch actually course...presentation how to use the actual resource managers right now so you're obviously not watching</p>
      <p begin="00:16:10.230" end="00:16:12.550">...making this party easy but it's still</p>
      <p begin="00:16:12.550" end="00:16:18.000">and managing gm's and there's a lot of moving parts there the other parties are...density</p>
      <p begin="00:16:18.000" end="00:16:22.740">so a default windows server I installation with is his</p>
      <p begin="00:16:22.740" end="00:16:26.350">tunes to protect the server.</p>
      <p begin="00:16:26.350" end="00:16:30.790">Very perfectly reasonable things when you expect the host multiple workloads on</p>
      <p begin="00:16:30.790" end="00:16:34.710">...instead you're in a cloud world words dynamic</p>
      <p begin="00:16:34.710" end="00:16:39.100">its fungible like...gm's I remove them I don't want to protective gm</p>
      <p begin="00:16:39.100" end="00:16:43.210">...protect my investment I want every ounce of cpu I went every outs of</p>
      <p begin="00:16:43.210" end="00:16:48.200">memory every ounce of disk because I can dedicate gm's the specific tasks because they're easy to spin up</p>
      <p begin="00:16:48.200" end="00:16:51.930">...tear down so if you have the default settings unless you go through</p>
      <p begin="00:16:51.930" end="00:16:56.780">and to be honest properly tuning a web workload on is to reach</p>
      <p begin="00:16:56.780" end="00:17:01.190">its rough maximum which depending on your code is about twenty three</p>
      <p begin="00:17:01.190" end="00:17:05.450">thousand active sockets sl per core.</p>
      <p begin="00:17:05.450" end="00:17:08.860">So, you can do this as well as</p>
      <p begin="00:17:08.860" end="00:17:12.240">fifteen to twenty thousand ops per second in a fully asynchronous node well</p>
      <p begin="00:17:12.240" end="00:17:18.230">...it's about three hundred settings so you probably don't want to be in that game unless</p>
      <p begin="00:17:18.230" end="00:17:22.890">you have to unless you're targeting systems that are doing more than hundred-thousand operations per</p>
      <p begin="00:17:22.890" end="00:17:28.150">second you probably don't need to do that okay so</p>
      <p begin="00:17:28.150" end="00:17:34.100">...is density how efficient is my code how efficient is may configuration and,</p>
      <p begin="00:17:34.100" end="00:17:39.950">how well and...resources that are available?</p>
      <p begin="00:17:39.950" end="00:17:43.070">Right I have three-b microsoft each one of them is a single point</p>
      <p begin="00:17:43.070" end="00:17:47.430">...failure in this case everything is a single...failure I cannot survive the</p>
      <p begin="00:17:47.430" end="00:17:51.630">loss of any single piece of this infrastructure probably not great will</p>
      <p begin="00:17:51.630" end="00:17:56.490">make it better but the most important thing of all is knowing where we stand.</p>
      <p begin="00:17:56.490" end="00:18:00.370">Turning the lights on...so that diagram</p>
      <p begin="00:18:00.370" end="00:18:07.000">I showed before operational insight visibility how much do we think we really get by default.</p>
      <p begin="00:18:07.000" end="00:18:10.360">But,...head shaking is kind...get.</p>
      <p begin="00:18:10.360" end="00:18:13.890">Most unfortunately most the times ...escalation lands</p>
      <p begin="00:18:13.890" end="00:18:18.480">my teams desk the first question we ask is shows your log shows your telemetry help</p>
      <p begin="00:18:18.480" end="00:18:23.430">us understand and the answers range from we don't have any.</p>
      <p begin="00:18:23.430" end="00:18:27.520">It log too much so we turned it off.</p>
      <p begin="00:18:27.520" end="00:18:31.210">I know it sounds funny but if you think about it this is the way we've been</p>
      <p begin="00:18:31.210" end="00:18:35.490">conditioned we used to have test were returned on lots of telemetry and we knew have</p>
      <p begin="00:18:35.490" end="00:18:38.460">the system behaved and then we go to production and because we</p>
      <p begin="00:18:38.460" end="00:18:42.410">had these capitalized very expensive scale-up workloads that was really,</p>
      <p begin="00:18:42.410" end="00:18:47.130">really expensive to do logging so we turned often production which is a really neat way of saying</p>
      <p begin="00:18:47.130" end="00:18:51.810">for fifteen years as an industry deluded ourselves into thinking that it was more important</p>
      <p begin="00:18:51.810" end="00:18:57.390">know-how system behaved in test imitating production think about that or the,</p>
      <p begin="00:18:57.390" end="00:19:00.900">yeah, we turn this thing on but we never looked at it.</p>
      <p begin="00:19:00.900" end="00:19:04.090">Back to that web applicator that mobile application that melted down because</p>
      <p begin="00:19:04.090" end="00:19:09.470">...of sockets they actually had live monitoring services actions case it</p>
      <p begin="00:19:09.470" end="00:19:12.680">was new relic turned on their site.</p>
      <p begin="00:19:12.680" end="00:19:15.590">But, no, one had ever looked at the data.</p>
      <p begin="00:19:15.590" end="00:19:19.930">Because the dev team washear the ops timor here and they weren't talking to each other so</p>
      <p begin="00:19:19.930" end="00:19:24.260">...wasn't this understanding that this is a cycle this has to be connected</p>
      <p begin="00:19:24.260" end="00:19:29.710">...didn't know-how to log in the portal the...guys didn't know what code look like so when we come in going</p>
      <p begin="00:19:29.710" end="00:19:36.070">guys what failed they looked at us single asher failed obviously because in absence of data</p>
      <p begin="00:19:36.070" end="00:19:40.270">the plates always...fault which might make you feel better but doesn't really help in root</p>
      <p begin="00:19:40.270" end="00:19:45.390">cause analysis and remediation so this is actually the first thing you have to</p>
      <p begin="00:19:45.390" end="00:19:49.740">...preparing for success good news is you can write your way</p>
      <p begin="00:19:49.740" end="00:19:54.760">...three things we have to do...we all have limited resources time people money if you have unlimited</p>
      <p begin="00:19:54.760" end="00:20:00.240">if any of these let's talk it can be from place to work temporarily so how to prioritize</p>
      <p begin="00:20:00.240" end="00:20:04.960">need to frame the door when you to set the stage to be able to deploy more capacity</p>
      <p begin="00:20:04.960" end="00:20:09.860">and resources without having to change code because changing coding conditions</p>
      <p begin="00:20:09.860" end="00:20:14.520">...success and is horrifying...bad it's very terrifying I just want to run</p>
      <p begin="00:20:14.520" end="00:20:19.490">scripps...resources need to turn the lights on any operational visibility...</p>
      <p begin="00:20:19.490" end="00:20:26.940">know if and actually making something better has anyone ever heard behaviors the term psychic debugging?</p>
      <p begin="00:20:26.940" end="00:20:32.090">We see this...going well why did you change that I don't know I just wanted to change</p>
      <p begin="00:20:32.090" end="00:20:35.950">and see if it got better okay that's not unreasonable how did you measure if</p>
      <p begin="00:20:35.950" end="00:20:41.910">it got better we watched twitter.</p>
      <p begin="00:20:41.910" end="00:20:43.960">In conditions of crisis in can when</p>
      <p begin="00:20:43.960" end="00:20:48.400">everything is failing it's just a natural human reaction to scramble</p>
      <p begin="00:20:48.400" end="00:20:53.220">unless you build the discipline of data-driven engineering up-front and you practice</p>
      <p begin="00:20:53.220" end="00:20:57.960">...on a daily basis you won't have those patterns to fall back on when success is</p>
      <p begin="00:20:57.960" end="00:21:02.700">just within reach and you will not bluntly have time to do</p>
      <p begin="00:21:02.700" end="00:21:07.690">this during positions of crisis so it's always better to make the few small changes up-front</p>
      <p begin="00:21:07.690" end="00:21:12.620">but most importantly we're going to use this data that's very easy to get on a modern cloud system</p>
      <p begin="00:21:12.620" end="00:21:17.620">specially measure and we use the drive this to understanding of where...what engineering investment</p>
      <p begin="00:21:17.620" end="00:21:22.120">...need to make now what engineering investment can we make later and what's the</p>
      <p begin="00:21:22.120" end="00:21:27.130">difference because most modern...pretty complicated there's a lot of moving parts I do a lot of</p>
      <p begin="00:21:27.130" end="00:21:30.050">...based solutions and...a simple io</p>
      <p begin="00:21:30.050" end="00:21:33.580">...base processing system can have three to four hundred workflows.</p>
      <p begin="00:21:34.860" end="00:21:40.250">You cannot...three hundred sophisticated workflows in a day but</p>
      <p begin="00:21:40.250" end="00:21:48.390">...point you only need is really the only tune for five of them to be successful sweeney data.</p>
      <p begin="00:21:48.390" end="00:21:52.510">Also how do we get out of this race of...the transistor level it</p>
      <p begin="00:21:52.510" end="00:21:56.980">just takes time and we want to focus on business value getting features and,</p>
      <p begin="00:21:56.980" end="00:22:01.930">not having the pager and virtual pager remembers pagers...</p>
      <p begin="00:22:01.930" end="00:22:03.590">Cannot.</p>
      <p begin="00:22:03.590" end="00:22:08.550">...and everyone...minute pager duty now and similar services</p>
      <p begin="00:22:08.550" end="00:22:13.350">highly bacon makes it easy to trade money for capacity now sometimes you a lot of control sometimes</p>
      <p begin="00:22:13.350" end="00:22:17.990">...whole the m you want to go deep but for most web applications especially the front-end it's not all</p>
      <p begin="00:22:17.990" end="00:22:23.750">that necessary so money is almost, almost always faster expanding engineering time</p>
      <p begin="00:22:23.750" end="00:22:28.850">...generally carries less risk a lot of times what you may do in conditions</p>
      <p begin="00:22:28.850" end="00:22:33.900">...success is let's spend a bunch of money roll-out mort capacity gets over the hump the</p>
      <p begin="00:22:33.900" end="00:22:36.140">...time to do the right engineering work.</p>
      <p begin="00:22:37.240" end="00:22:40.310">And, measure how do we look at migrating re hosting application</p>
      <p begin="00:22:40.310" end="00:22:45.260">opponents their paths equivalence how do we go semantically up the stack how do we tradeoff I</p>
      <p begin="00:22:45.260" end="00:22:49.960">svm for web apps for may known as websites I may call entire is sari code</p>
      <p begin="00:22:49.960" end="00:22:56.150">...but that is you can basically take your web code re hosted in a...we've already gone and</p>
      <p begin="00:22:56.150" end="00:23:00.150">done those three hundred-plus configuration settings</p>
      <p begin="00:23:00.150" end="00:23:05.750">...wuvn in my...a manager patterns and practices we recently released a bunch of guidance</p>
      <p begin="00:23:05.750" end="00:23:10.680">on common performance...patterns and there was one around synchronous io and</p>
      <p begin="00:23:10.680" end="00:23:14.880">...blown up a number of customer sites so we were doing...casting...websites and we could not</p>
      <p begin="00:23:14.880" end="00:23:19.840">break we literally could not make this condition happen we realized is that actually</p>
      <p begin="00:23:19.840" end="00:23:24.790">gone ahead of us and done such a great job tuning the platform we couldn't break it</p>
      <p begin="00:23:24.790" end="00:23:29.290">in the specific way...just took a standard isv...web role thing what</p>
      <p begin="00:23:29.290" end="00:23:34.220">a snapped in minutes so we have put a lot of work in a lot of time and energy into these paths</p>
      <p begin="00:23:34.220" end="00:23:38.950">experiences to basically make them friendlier...share...advertise some of that learning directly to</p>
      <p begin="00:23:38.950" end="00:23:45.330">the platform and for a web for an application like this is actually not a lot of data</p>
      <p begin="00:23:45.330" end="00:23:49.410">...lot of readers but I don't know a lot of data so being able to get that out of a sequel server</p>
      <p begin="00:23:49.410" end="00:23:54.320">managing everything and into address...db where I get continuous point</p>
      <p begin="00:23:54.320" end="00:23:59.640">in time backups and...really cool new featureautomatic geo replication which we'll get to</p>
      <p begin="00:23:59.640" end="00:24:04.220">later can really help me set the stage for a for scale.</p>
      <p begin="00:24:04.220" end="00:24:05.910">Right so.</p>
      <p begin="00:24:05.910" end="00:24:10.380">Used to be a you if you wanted to do insight telemetry you had to build a lot of</p>
      <p begin="00:24:10.380" end="00:24:15.070">stuff that's expensive and it's actually in many cases hard to justifying your budget unless you're actually</p>
      <p begin="00:24:15.070" end="00:24:19.060">building a platform where you can advertise the investment so</p>
      <p begin="00:24:19.060" end="00:24:23.350">...entry honest I really don't care what you use app insights use new relic use</p>
      <p begin="00:24:23.350" end="00:24:28.410">app dynamics they all have free trust try them at the end of the day it's going to come down to what is your dev</p>
      <p begin="00:24:28.410" end="00:24:33.690">...team enjoy working with what are the ones that helped them understand behavior and</p>
      <p begin="00:24:33.690" end="00:24:37.015">flo and actually make sense of the data and a lot of...just going</p>
      <p begin="00:24:37.015" end="00:24:40.780">to come down individual ergonomics just put...some of the</p>
      <p begin="00:24:40.780" end="00:24:44.360">budget is try amount but rancher way...victory.</p>
      <p begin="00:24:44.360" end="00:24:49.230">For more sophisticated platform apps humanity...build lot-of custom stuff that's a different talk but</p>
      <p begin="00:24:49.230" end="00:24:53.350">for most websites of this perspective this get your most of the way down the road</p>
      <p begin="00:24:53.350" end="00:24:58.120">...need to add more later but just get going with the sorts of things</p>
      <p begin="00:24:58.120" end="00:25:06.490">and you actually have to look at the data that you have to...as part of your daily experiences.</p>
      <p begin="00:25:06.490" end="00:25:11.420">every single system that's ever been built mechanical hydraulic</p>
      <p begin="00:25:11.420" end="00:25:15.680">electric software they all have a...there is some point where</p>
      <p begin="00:25:15.680" end="00:25:20.160">you will put too much weight on the system and it will snap there are two choices you find it or</p>
      <p begin="00:25:20.160" end="00:25:25.350">your users well one of these is less heartburn inducing.</p>
      <p begin="00:25:25.350" end="00:25:29.760">Normally the way I recommend doing this is essentially do destructive...test.</p>
      <p begin="00:25:29.760" end="00:25:33.690">Take system...down to the smallest resource</p>
      <p begin="00:25:33.690" end="00:25:36.760">pool you can find one...or one instance</p>
      <p begin="00:25:36.760" end="00:25:41.110">...asher websites and just throw enough...the system to find the point where</p>
      <p begin="00:25:41.110" end="00:25:45.470">goes nonlinear and snaps because that will tell you how efficiently</p>
      <p begin="00:25:45.470" end="00:25:50.400">...resources on that system that will tell you about contention points it will tell you about density</p>
      <p begin="00:25:50.400" end="00:25:54.570">...give you some understanding the scaling...if one instance can handle</p>
      <p begin="00:25:54.570" end="00:25:57.880">...thousand users represented before tipping over then</p>
      <p begin="00:25:57.880" end="00:26:01.930">you can extrapolate to a certain point it's not completely linear because there's other factors</p>
      <p begin="00:26:01.930" end="00:26:06.520">...play but it's a nice cheap quick way to find out that hey,</p>
      <p begin="00:26:06.520" end="00:26:10.190">we actually have an internal...being used in this app domain and you take</p>
      <p begin="00:26:10.190" end="00:26:15.930">it above ten concurrent users the whole thing tips over finance early finding cheap because they're in</p>
      <p begin="00:26:15.930" end="00:26:19.800">...most importantly this is the data that well-informed do I need to do</p>
      <p begin="00:26:19.800" end="00:26:24.160">...to actually even need to do any performance optimization or can just throw more money at</p>
      <p begin="00:26:24.160" end="00:26:29.050">the problem and keep my engineers working on features and functionality or do I really need</p>
      <p begin="00:26:29.050" end="00:26:36.460">...tackle specific performance optimizations...do it on data?</p>
      <p begin="00:26:36.460" end="00:26:37.300">Click anything</p>
      <p begin="00:26:37.300" end="00:26:42.060">worked area so this is an app dynamic screenshot this is actually from the</p>
      <p begin="00:26:42.060" end="00:26:46.360">...performs optimization project again we want to use insight against a</p>
      <p begin="00:26:46.360" end="00:26:51.300">live system to understand a low-profile if you see weirdness almost every time I've</p>
      <p begin="00:26:51.300" end="00:26:56.130">talked to a customer and they've gone through this process and they've had a live site event they may go,</p>
      <p begin="00:26:56.130" end="00:27:00.560">yeah, actually we saw this become months ago we just didn't know that little</p>
      <p begin="00:27:00.560" end="00:27:05.560">hiccup that weird piece of data meant something was terribly wrong you won't have time and resources to</p>
      <p begin="00:27:05.560" end="00:27:09.780">chase every single thing down but it's worth taking a couple of extra minutes and</p>
      <p begin="00:27:09.780" end="00:27:13.850">...are low harness broken or like shooters actually an interesting bug in</p>
      <p begin="00:27:13.850" end="00:27:19.670">the system and I'm going to keep coming back to telemetry has to be part of your day-to-day life if</p>
      <p begin="00:27:19.670" end="00:27:27.090">you've rented it's cheap it's accessible you...great stuff with.</p>
      <p begin="00:27:27.090" end="00:27:29.750">Right so we have limited resources how</p>
      <p begin="00:27:29.750" end="00:27:34.170">do we prioritize first thing we need to understand is what are the availability points and</p>
      <p begin="00:27:34.170" end="00:27:36.220">how we mitigate...if I have one</p>
      <p begin="00:27:36.220" end="00:27:40.940">...failure that can take everything down you can be guaranteed that is the thing that will fail at the point we</p>
      <p begin="00:27:40.940" end="00:27:42.540">...the most?</p>
      <p begin="00:27:42.540" end="00:27:43.910">And, one of the scale bottlenecks</p>
      <p begin="00:27:43.910" end="00:27:48.710">and contention points has data flow through the system and where do you have units of one</p>
      <p begin="00:27:48.710" end="00:27:53.260">...are only three numbers I'll come back to this the three numbers are zero one and more?</p>
      <p begin="00:27:53.260" end="00:27:57.820">...easy because there's nothing to do one is terrifying because everything ends up there and</p>
      <p begin="00:27:57.820" end="00:28:02.450">n is a little bit more achievable so we'll go through and figure out how do we add more stuff.</p>
      <p begin="00:28:02.450" end="00:28:03.380">Okay,</p>
      <p begin="00:28:03.380" end="00:28:07.810">so, assuming we've already ported are site over to measure web apps I'm going to</p>
      <p begin="00:28:07.810" end="00:28:10.680">keep going websites and sql tv what are the</p>
      <p begin="00:28:11.930" end="00:28:17.490">...the things that are consumed so in the case of measure web apps I compute instances</p>
      <p begin="00:28:17.490" end="00:28:22.350">I'm running the m so by default on a normal subscription I can get up to ten</p>
      <p begin="00:28:22.350" end="00:28:26.630">and well tuned code that's a lot of but if you need more</p>
      <p begin="00:28:26.630" end="00:28:30.390">you-can call us again it's not a technical imitation it's actually building and</p>
      <p begin="00:28:30.390" end="00:28:32.590">...limitation and we can crank</p>
      <p begin="00:28:32.590" end="00:28:38.980">...up we have some very large internal dedicated clusters that are available if your application demand.</p>
      <p begin="00:28:38.980" end="00:28:43.690">The reason I keep pushing on the mobile apps is that can current active sockets web socket</p>
      <p begin="00:28:43.690" end="00:28:47.760">connections that's a meter resources well it's not always an obvious one so</p>
      <p begin="00:28:47.760" end="00:28:52.380">...a lot of continuously connected push base notification by signal are you have to</p>
      <p begin="00:28:52.380" end="00:28:56.890">take that into account you have to be able to test that as well it's actually pretty hard.</p>
      <p begin="00:28:56.890" end="00:29:00.090">Requests per second for vm really comes down to efficiency</p>
      <p begin="00:29:00.090" end="00:29:03.550">of implementation if you have purely synchronous code</p>
      <p begin="00:29:03.550" end="00:29:08.320">it may not be as good if you have blocking calls if you have dependencies and externally</p>
      <p begin="00:29:08.320" end="00:29:14.370">meter resources authentication being the most common one there will be you can only</p>
      <p begin="00:29:14.370" end="00:29:20.340">gets...doesn't matter how many of...m you add you will only get so much work through the system but there</p>
      <p begin="00:29:20.340" end="00:29:24.520">are n web apps and there is one database</p>
      <p begin="00:29:24.520" end="00:29:29.440">ok that's a bit of a red flag in terms of potential scaleability because I have</p>
      <p begin="00:29:29.440" end="00:29:34.840">no way I can scale-up from a standard pone ptwo-p three before but,</p>
      <p begin="00:29:34.840" end="00:29:39.350">that depending if I had particularly inefficient code that may not be enough common</p>
      <p begin="00:29:39.350" end="00:29:43.790">...number of connections to given database the default asp dot net connection</p>
      <p begin="00:29:43.790" end="00:29:49.270">...one hundred a standard sequel...gives you a hundred eighty connections so with</p>
      <p begin="00:29:49.270" end="00:29:54.400">one-point-eigth gm's under conditions of success you've just blown out your connection</p>
      <p begin="00:29:54.400" end="00:29:58.970">Again, not hard to fix in advance not challenging six we've identified</p>
      <p begin="00:29:58.970" end="00:30:05.410">...load testing...terrifying...live editing configure files...website.</p>
      <p begin="00:30:05.410" end="00:30:09.940">And, database throughput if you have particularly bad database queries that choke</p>
      <p begin="00:30:09.940" end="00:30:14.630">our take a lock escalation that only happen every now and then they'll take</p>
      <p begin="00:30:14.630" end="00:30:17.910">down your site during conditions of success so just</p>
      <p begin="00:30:17.910" end="00:30:22.410">...those things are there...have a great article on the on a concert the</p>
      <p begin="00:30:22.410" end="00:30:26.480">ad icon documentation that lists out all basically all of the meter resources</p>
      <p begin="00:30:26.480" end="00:30:27.880">...services take</p>
      <p begin="00:30:27.880" end="00:30:36.030">a couple hours work your way through understand what those limits are and how to add more?</p>
      <p begin="00:30:36.030" end="00:30:40.170">Like the slows clicker ever.</p>
      <p begin="00:30:40.170" end="00:30:44.670">Failure and availability points get bad code we'll have that code...code today and</p>
      <p begin="00:30:44.670" end="00:30:47.210">...even open visual studio so,</p>
      <p begin="00:30:47.210" end="00:30:51.730">come on, that's funny by and large is as a containers</p>
      <p begin="00:30:51.730" end="00:30:54.510">designed to save you from writing particularly bad code in that</p>
      <p begin="00:30:54.510" end="00:30:57.160">...crashes will just...back up again there</p>
      <p begin="00:30:57.160" end="00:31:02.870">is one small exception to watch out for...and above z</p>
      <p begin="00:31:02.870" end="00:31:09.000">whenever configured fast failure detection I don't know what I'm talking about I didn't until last week</p>
      <p begin="00:31:09.000" end="00:31:13.460">...helping customer...and issue suddenly add-in recent versions of...essentially</p>
      <p begin="00:31:13.460" end="00:31:17.940">a fast value protection or circuit breaker that says if you like just drop.</p>
      <p begin="00:31:17.940" end="00:31:21.270">And, number of times in a certain period we've deem that</p>
      <p begin="00:31:21.270" end="00:31:24.000">you are completely unhealthy and will shut you down?</p>
      <p begin="00:31:24.000" end="00:31:26.960">That features enabled by default depending on the...you're running</p>
      <p begin="00:31:26.960" end="00:31:32.990">in so-if you get into this continuous failure cycle you may date basically just get I...turning</p>
      <p begin="00:31:32.990" end="00:31:37.700">itself off essentially some watch out for the bigger problem here is the single</p>
      <p begin="00:31:37.700" end="00:31:43.040">...database if you have any transient or...during...ripple all the way back and...everything is only one</p>
      <p begin="00:31:43.040" end="00:31:47.200">of these databases this is traditional good performance tuning efficiently using</p>
      <p begin="00:31:47.200" end="00:31:49.620">...resources but more importantly we</p>
      <p begin="00:31:49.620" end="00:31:54.900">...something in a second were really understand splitting that read and write workload.</p>
      <p begin="00:31:54.900" end="00:31:59.790">Right so can we reduce or shift critical of work for differential workloads</p>
      <p begin="00:31:59.790" end="00:32:04.820">mostly around playing consistency games if I have...million people that I need to basically</p>
      <p begin="00:32:04.820" end="00:32:10.220">update sport event or kind of the latest score.</p>
      <p begin="00:32:10.220" end="00:32:14.250">Going to sequel on a single role selected every single time is</p>
      <p begin="00:32:14.250" end="00:32:19.880">probably not the most efficiently I could do that I've seen a lot of sites that do this</p>
      <p begin="00:32:19.880" end="00:32:24.580">now again you may not want to invest in things like...</p>
      <p begin="00:32:24.580" end="00:32:28.500">up-front you probably do by the way but you might not.</p>
      <p begin="00:32:28.500" end="00:32:29.920">Here one of the things to watch out for</p>
      <p begin="00:32:29.920" end="00:32:34.610">...heavy structure your code in such a way that you can add these things later we have a bunch of</p>
      <p begin="00:32:34.610" end="00:32:38.160">sabre api controllers that have direct ado dot net calls</p>
      <p begin="00:32:38.160" end="00:32:42.330">...within them there's really nowhere to mediate you can't go in shin in</p>
      <p begin="00:32:42.330" end="00:32:45.720">...if you have repository patterning</p>
      <p begin="00:32:45.720" end="00:32:49.650">...have a place you can hide that it's a little bit less risky.</p>
      <p begin="00:32:49.650" end="00:32:53.790">About two or three years ago we got a call very panicked hey we're going live</p>
      <p begin="00:32:53.790" end="00:32:59.000">in twenty four hours for a governmental app that's tracking you know,</p>
      <p begin="00:32:59.000" end="00:33:02.290">basically a and live event the next day and</p>
      <p begin="00:33:02.290" end="00:33:07.490">the system tips over past thirty users like okay interesting</p>
      <p begin="00:33:07.490" end="00:33:12.710">I felt bad for you are you doing and every single time someone log</p>
      <p begin="00:33:12.710" end="00:33:16.250">...the site they would hit...fourteen times and</p>
      <p begin="00:33:16.250" end="00:33:20.520">...page it worked great on my box...testing was left to</p>
      <p begin="00:33:20.520" end="00:33:25.500">late and all of a sudden we had an overnight binge of essentially rewriting the code base</p>
      <p begin="00:33:25.500" end="00:33:34.920">to add...not my most fun evening especially since we didn't have a lot of time for adequate testing.</p>
      <p begin="00:33:34.920" end="00:33:39.170">The so the really difference between...this kind of approach and something I'll talk about</p>
      <p begin="00:33:39.170" end="00:33:43.110">is this requires engineering time this requires code change this</p>
      <p begin="00:33:43.110" end="00:33:47.610">carries higher-risk and more latency...just going to take more time to do it so you never want to</p>
      <p begin="00:33:47.610" end="00:33:51.760">be adding caching all these other types of rippling changes to a</p>
      <p begin="00:33:51.760" end="00:33:55.570">live production site is a badge of honor sure we've all got</p>
      <p begin="00:33:55.570" end="00:34:01.000">the scars but you probably don't want to do it twice.</p>
      <p begin="00:34:01.000" end="00:34:01.870">So, what</p>
      <p begin="00:34:01.870" end="00:34:07.140">...caching like anything else it's not a magical solution in fact in some cases a</p>
      <p begin="00:34:07.140" end="00:34:11.060">...create three problems for everyone solves however we've already done</p>
      <p begin="00:34:11.060" end="00:34:14.790">...workload analysis we know this is a primary read workload with</p>
      <p begin="00:34:14.790" end="00:34:18.720">low consistency requirements ok,</p>
      <p begin="00:34:18.720" end="00:34:23.380">then now sure I can cash absolutely in adder</p>
      <p begin="00:34:23.380" end="00:34:29.790">...fantastic easy to add good semantic support very scalable and...what I've done</p>
      <p begin="00:34:29.790" end="00:34:36.450">is I've taken my not overly scalable on...single-point of state and</p>
      <p begin="00:34:36.450" end="00:34:39.960">then I've tradeoff consistency and spread it out to a bunch of resonance?</p>
      <p begin="00:34:41.200" end="00:34:46.010">But, this doesn't necessarily give me a distributed solution because in</p>
      <p begin="00:34:46.010" end="00:34:50.890">the something like this I'm still hitting the same key the same partition the same set of data inside</p>
      <p begin="00:34:50.890" end="00:34:53.750">...so I may employer multi-layered caching solution,</p>
      <p begin="00:34:53.750" end="00:34:57.400">for example, if I've structured my code correctly I can turn on a</p>
      <p begin="00:34:57.400" end="00:35:03.750">...net output cashing or even ins output caching on the rest calls that</p>
      <p begin="00:35:03.750" end="00:35:09.470">...sports scores if I designed it that way from the beginning and then I can basically have</p>
      <p begin="00:35:09.470" end="00:35:13.820">multi-layered of...truly have that state stored in a couple different places</p>
      <p begin="00:35:13.820" end="00:35:17.370">...not magical just like a just another tool in the box</p>
      <p begin="00:35:17.370" end="00:35:21.750">...can be a very useful and how do we figure out...worked ab?</p>
      <p begin="00:35:21.750" end="00:35:22.120">Testing</p>
      <p begin="00:35:22.120" end="00:35:26.970">with telemetry turn it on it was some load see if you basically progressed or</p>
      <p begin="00:35:26.970" end="00:35:33.670">advanced again this is from some of the performance optimization stuffy...and get help.</p>
      <p begin="00:35:33.670" end="00:35:36.830">Right so we actually see to the</p>
      <p begin="00:35:36.830" end="00:35:41.430">...percentile the same set of issues around density happening again and</p>
      <p begin="00:35:41.430" end="00:35:46.160">again and again...io is probably the worst here...systems</p>
      <p begin="00:35:46.160" end="00:35:51.060">the target multiple databases are perhaps the worst offenders because when you say I'm database</p>
      <p begin="00:35:51.060" end="00:35:55.900">agnostic what you're really saying is I'm the lowest common denominator between all of these databases</p>
      <p begin="00:35:55.900" end="00:36:02.700">and take advantage of none of their features to make them run faster even we don't like to admit that but</p>
      <p begin="00:36:02.700" end="00:36:06.000">that's largely what you see a or the other one that pictures a lot</p>
      <p begin="00:36:06.000" end="00:36:10.540">of chatty io is blind faith in rms.</p>
      <p begin="00:36:10.540" end="00:36:13.440">Okay, you guys been there, you know,...top of that.</p>
      <p begin="00:36:13.440" end="00:36:19.670">Or my absolute favorite the difference between I innumerable and I query</p>
      <p begin="00:36:19.670" end="00:36:24.570">Okay, if you...for those of you are familiar I query...means take my question...to the other</p>
      <p begin="00:36:24.570" end="00:36:30.790">side get back just the answer I innumerable says give me every answer and then let me pick.</p>
      <p begin="00:36:30.790" end="00:36:31.860">Common point your</p>
      <p begin="00:36:31.860" end="00:36:37.940">test system has five rows in the metadata table your production system has a million.</p>
      <p begin="00:36:37.940" end="00:36:41.940">...see what happens there that's the basic another example is extraneous fetching,</p>
      <p begin="00:36:41.940" end="00:36:45.760">fetching the whole database and filtering client-side it doesn't show up until</p>
      <p begin="00:36:45.760" end="00:36:48.000">you load test.</p>
      <p begin="00:36:48.000" end="00:36:52.250">No, caching synchronous io we've got a full list itself on the hub and if you want a</p>
      <p begin="00:36:52.250" end="00:36:58.280">lot more detail on...interesting...tomorrow eleven thirty am</p>
      <p begin="00:36:58.280" end="00:37:02.810">...one-b going through eight or nine of these in a lot more detail and I don't want to sales</p>
      <p begin="00:37:02.810" end="00:37:09.210">...because then you get mad at me so what is move on to talk about the how do we add more capacity.</p>
      <p begin="00:37:09.210" end="00:37:11.430">All right so if you have high-fidelity</p>
      <p begin="00:37:11.430" end="00:37:15.920">low testing usual instigated figure out doing the optimized where do we need</p>
      <p begin="00:37:15.920" end="00:37:20.260">to optimized how far do we need to go to the thing to watch out for here the</p>
      <p begin="00:37:20.260" end="00:37:23.510">...pattern the regression is if you're load profiles</p>
      <p begin="00:37:23.510" end="00:37:27.990">are not based on real user data or good understanding of real user data</p>
      <p begin="00:37:27.990" end="00:37:32.740">election tell yourself lives like are my friends who had the mobile app they</p>
      <p begin="00:37:32.740" end="00:37:36.810">had great...test numbers...that everything was fantastic except for the</p>
      <p begin="00:37:36.810" end="00:37:40.770">load test wasn't actually testing system resources...you know,</p>
      <p begin="00:37:40.770" end="00:37:43.130">of a real...real use in a real site</p>
      <p begin="00:37:43.130" end="00:37:48.010">easiest way to do this especially if you're if you have a couple of really users...already have a</p>
      <p begin="00:37:48.010" end="00:37:51.640">...production just look at the telemetry model</p>
      <p begin="00:37:51.640" end="00:37:55.260">...workflows and pull that back in the load testing.</p>
      <p begin="00:37:55.260" end="00:37:58.430">Also...these things don't try to optimize everything and actually...day most of</p>
      <p begin="00:37:58.430" end="00:38:03.080">it doesn't matter observe measure change react.</p>
      <p begin="00:38:03.080" end="00:38:07.600">Go make sure you can basically say on this build this version we got this much</p>
      <p begin="00:38:07.600" end="00:38:12.810">load for this many resources we made this change we got better we got worse and moved on.</p>
      <p begin="00:38:12.810" end="00:38:16.970">Most the time and the systems I've seen if you only hit two or three the primary workflows</p>
      <p begin="00:38:16.970" end="00:38:21.260">through the system all the way down all the way back up again you generally hit your business goals</p>
      <p begin="00:38:22.380" end="00:38:26.860">going in and just doing this global optimization exercises without targeted data</p>
      <p begin="00:38:26.860" end="00:38:32.460">...you end up spinning in circles and spending a lot of time and effort.</p>
      <p begin="00:38:32.460" end="00:38:37.400">So, mapping the third stage of journey we've talked a lot about</p>
      <p begin="00:38:37.400" end="00:38:42.180">it's fairly high-level detail but again this is paternal session about the questions and</p>
      <p begin="00:38:42.180" end="00:38:43.620">decision matrix...the journey</p>
      <p begin="00:38:43.620" end="00:38:48.290">for getting to a good single datacenter solution but.</p>
      <p begin="00:38:48.290" end="00:38:52.670">...for global we have customers all over the world more we could have customers all of the world</p>
      <p begin="00:38:52.670" end="00:38:57.040">...think about multiple datacenters within I think that redundancy how do we go from</p>
      <p begin="00:38:57.040" end="00:39:03.090">our now truly awesome one datacenter solution to multiple datasets this</p>
      <p begin="00:39:03.090" end="00:39:04.970">is been on.</p>
      <p begin="00:39:04.970" end="00:39:10.050">A big thing for a long-time who's sever set up kind of database replication across</p>
      <p begin="00:39:10.050" end="00:39:14.950">datacenters couple...funner want.</p>
      <p begin="00:39:14.950" end="00:39:21.580">Course like no that was terrible and ...traditionally setting up all the hardware</p>
      <p begin="00:39:21.580" end="00:39:24.550">in the physics and the...over in order to be able to actually</p>
      <p begin="00:39:24.550" end="00:39:29.070">...multiple datacenters for business continuity disaster recovery or even...</p>
      <p begin="00:39:29.070" end="00:39:33.840">global scale reasons is very challenging nine eleven demo because I don't believe in</p>
      <p begin="00:39:33.840" end="00:39:38.770">...things in architecture sessions...talk about a path and a process that you can use</p>
      <p begin="00:39:38.770" end="00:39:43.670">to basically go from now I've got my one datacenter how do I start adding others but more importantly why</p>
      <p begin="00:39:43.670" end="00:39:48.690">does each step along the way work I didn't highlighted this...the beginning but,</p>
      <p begin="00:39:48.690" end="00:39:50.700">you guys of course free to ask questions at any time</p>
      <p begin="00:39:50.700" end="00:39:56.230">I got to forty minutes before I mention that I forgot to give myself a little bit of a break but</p>
      <p begin="00:39:56.230" end="00:40:02.880">...jumps on a microphone I'll just keep going if you do depending a question I keep going anyway.</p>
      <p begin="00:40:02.880" end="00:40:06.550">It's just...</p>
      <p begin="00:40:06.550" end="00:40:07.460">So, again,</p>
      <p begin="00:40:07.460" end="00:40:10.910">there are only three numbers zero one and lots.</p>
      <p begin="00:40:12.050" end="00:40:14.340">And, lots of spelled and but it's still lots.</p>
      <p begin="00:40:15.350" end="00:40:18.800">Of ultimately as long as we have the ability to use and resources</p>
      <p begin="00:40:18.800" end="00:40:23.280">...any piece of our system we can now we're now ready to simply tell the platform give</p>
      <p begin="00:40:23.280" end="00:40:29.100">me more of this thing and my system will know how to take care of it using one storage account...easy</p>
      <p begin="00:40:29.100" end="00:40:33.930">...storage accounts is substantially harder going from to storage accounts</p>
      <p begin="00:40:33.930" end="00:40:38.420">...accounts is usually really, really simple of course in the case of storage I guess</p>
      <p begin="00:40:38.420" end="00:40:42.950">...data lake discussion earlier announcement.</p>
      <p begin="00:40:42.950" end="00:40:43.840">...going to keynote.</p>
      <p begin="00:40:44.900" end="00:40:46.650">Enough falsely.</p>
      <p begin="00:40:46.650" end="00:40:51.390">So, one of things we announced earlier and again there's an enormous amount of information there so I owen expect all the</p>
      <p begin="00:40:51.390" end="00:40:55.450">...all in the you guys...time to...to be honest I need some time the digest that are</p>
      <p begin="00:40:55.450" end="00:40:58.650">...halfway announced we're just getting to...build and stuff.</p>
      <p begin="00:40:58.650" end="00:41:02.200">So, one of the new services the aggregate...has been she says, you know,</p>
      <p begin="00:41:02.200" end="00:41:05.640">this whole composing multiple storage accounts for scale it's hard when we just make</p>
      <p begin="00:41:05.640" end="00:41:11.580">that easy for you will give you the illusion the facade...as you can reach out and</p>
      <p begin="00:41:11.580" end="00:41:16.520">...of will do all the magical work behind-the-scenes of composing all these storage accounts and</p>
      <p begin="00:41:16.520" end="00:41:18.510">we'll just give you one head...so</p>
      <p begin="00:41:18.510" end="00:41:23.470">...specific case going from one storage account for data manipulation to</p>
      <p begin="00:41:23.470" end="00:41:27.990">n storage accounts is you can do-it-yourself or you can use...service we're looking at</p>
      <p begin="00:41:27.990" end="00:41:32.800">enabling that across broader pieces the platform but we're not quite there yet for everything so you just need</p>
      <p begin="00:41:32.800" end="00:41:37.700">to you need to account for a little bit for working with databases if you actually have a</p>
      <p begin="00:41:37.700" end="00:41:41.860">lot of data then things like elastic scale will really help there that's a way to go</p>
      <p begin="00:41:41.860" end="00:41:46.470">from one to n but in the case of the scenario working through it won't help</p>
      <p begin="00:41:46.470" end="00:41:51.450">because there's not that much data it's almost all metadata anyway and the problem really is publishing</p>
      <p begin="00:41:51.450" end="00:41:56.050">it not changing on-the-fly...three things we need to think about in</p>
      <p begin="00:41:56.050" end="00:42:00.480">this specific case each with their own set of resources their own state management and their</p>
      <p begin="00:42:00.480" end="00:42:05.320">own sanitize asia in terms of how do you find it how do you use it...the front-end</p>
      <p begin="00:42:05.320" end="00:42:06.960">...web resources is</p>
      <p begin="00:42:06.960" end="00:42:11.310">...low state all I really need to do is get code replicated on</p>
      <p begin="00:42:11.310" end="00:42:17.820">a continuous basis to...datacenters there's a little caveat there and</p>
      <p begin="00:42:17.820" end="00:42:23.770">...caveat might be about having automatic level replication updates.</p>
      <p begin="00:42:23.770" end="00:42:28.880">It also means automatic level replication mistakes.</p>
      <p begin="00:42:28.880" end="00:42:33.680">And, I'm actually very serious here in that and one of the things to watch out for when you have</p>
      <p begin="00:42:33.680" end="00:42:37.540">...doing these continuous update cycles is if you see you will there will be</p>
      <p begin="00:42:37.540" end="00:42:41.730">...bugs...be mistakes will be errors and essentially if you set up the</p>
      <p begin="00:42:41.730" end="00:42:46.210">ability to automatically role stuff...production of the world.</p>
      <p begin="00:42:46.210" end="00:42:51.560">That means that you've now...that mistake is not isolated one place...test environment is now everywhere</p>
      <p begin="00:42:51.560" end="00:42:56.690">...clot back back-end database highly stateful and</p>
      <p begin="00:42:56.690" end="00:43:01.430">...in this specific workload I need some form of eventually consistent data replication I need</p>
      <p begin="00:43:01.430" end="00:43:06.350">a way to basically have that data be local to a number of other datacenters either in the</p>
      <p begin="00:43:06.350" end="00:43:08.910">cache there or in actual database</p>
      <p begin="00:43:08.910" end="00:43:17.720">there and I need to be able to take users and spread them across all of these front-ends.</p>
      <p begin="00:43:17.720" end="00:43:21.210">It's actually not that bad it's a little details the game...just kinda go through</p>
      <p begin="00:43:21.210" end="00:43:25.770">...adventure here now and meander through some stuff we can do so let's start from</p>
      <p begin="00:43:25.770" end="00:43:30.440">are barely visible sorry about that one datacenter deployment so we've got</p>
      <p begin="00:43:30.440" end="00:43:33.100">...websites we've got a number of production instances and</p>
      <p begin="00:43:33.100" end="00:43:38.060">we are using the staging capability of asher websites to put our changes</p>
      <p begin="00:43:38.060" end="00:43:41.650">are new stuff in special staging environment so we can ensure that</p>
      <p begin="00:43:41.650" end="00:43:46.180">its functional before we flip the bit over as an atomic operation we have</p>
      <p begin="00:43:46.180" end="00:43:50.410">...database with this suddenly named...we'll get to</p>
      <p begin="00:43:50.410" end="00:43:55.400">that a second as well as a...cash...we've decided that we need caching here.</p>
      <p begin="00:43:55.400" end="00:43:59.820">Key state starting point is I need to be able to stand one of these up through automation I can't be in</p>
      <p begin="00:43:59.820" end="00:44:04.600">the portal clicking on things it's great for exploring it's wonderful for dev task but the harsh</p>
      <p begin="00:44:04.600" end="00:44:09.510">realities by the time you're looking at doing global datacenter operations you must be</p>
      <p begin="00:44:09.510" end="00:44:13.490">...fully automated state good news is with the release of the</p>
      <p begin="00:44:13.490" end="00:44:18.270">...manager stuff this can be deterministic operation we say this is what my environment</p>
      <p begin="00:44:18.270" end="00:44:23.030">looks like please deploy one of these...getting out of the world of imperative programming</p>
      <p begin="00:44:23.030" end="00:44:27.800">be it you know, our...she alive into the world of this is my environment please</p>
      <p begin="00:44:27.800" end="00:44:32.550">...me one but you need to make the up-front investment so that when it comes time to push</p>
      <p begin="00:44:32.550" end="00:44:36.870">out the update its run a script not get...five people doing they had this chicken</p>
      <p begin="00:44:36.870" end="00:44:43.530">...going can you email me the updates like...check them in and do the build...my machine?</p>
      <p begin="00:44:43.530" end="00:44:49.590">I have an abortion work with customers for whom email was their source code control system.</p>
      <p begin="00:44:49.590" end="00:44:54.540">And, there's two sides I want to go it's twenty fifteen get is awesome</p>
      <p begin="00:44:54.540" end="00:44:59.110">but the other time I realized under extreme pressure we fall back</p>
      <p begin="00:44:59.110" end="00:45:04.690">on the obvious and not always optimal...you need to make these we need to</p>
      <p begin="00:45:04.690" end="00:45:11.760">make these changes in advance so that the easy path is the right one because we're so used to doing...</p>
      <p begin="00:45:11.760" end="00:45:16.380">So, first thing we're going to do is we're going to get automated publishing setup so websites</p>
      <p begin="00:45:16.380" end="00:45:21.290">...is really great get integration feature so...push...build I can get an automatic build</p>
      <p begin="00:45:21.290" end="00:45:26.150">and then deployment to staging which I can then manually promote after doing</p>
      <p begin="00:45:26.150" end="00:45:32.740">...testing or operational snow testing again automated global deployment creates learning</p>
      <p begin="00:45:32.740" end="00:45:37.160">moments...learning moments especially not in production</p>
      <p begin="00:45:37.160" end="00:45:39.970">...great feature works nicely and it's</p>
      <p begin="00:45:39.970" end="00:45:44.560">...not it's a really great integrated aspect...challenges this only works if you also</p>
      <p begin="00:45:44.560" end="00:45:48.440">have a good branching structure where you have clean our eyes and</p>
      <p begin="00:45:48.440" end="00:45:53.310">f flies into basically the thing that goes out in a product so you need a little bit</p>
      <p begin="00:45:53.310" end="00:46:00.980">more up-front investment in your...process but ...like ll folks using get.</p>
      <p begin="00:46:00.980" end="00:46:07.460">All right you got your hands...folks we're going to try out get everyone else in the room.</p>
      <p begin="00:46:07.460" end="00:46:12.380">Actually you whether you centralized version control like...or use decentralized like it really</p>
      <p begin="00:46:12.380" end="00:46:16.840">is a matter of culture and preference as long as you're using one using a properly so as long as get good branch</p>
      <p begin="00:46:16.840" end="00:46:21.800">...everyone knows this is how my changes go from a feature branch or developer branch</p>
      <p begin="00:46:21.800" end="00:46:23.870">...into staging and then</p>
      <p begin="00:46:23.870" end="00:46:29.520">...to the kind of the test site in good shape.</p>
      <p begin="00:46:29.520" end="00:46:32.890">Second thing we idea is we're going to make sure there are telemetry services</p>
      <p begin="00:46:32.890" end="00:46:36.270">are enabled and they are flowing data here's one of the</p>
      <p begin="00:46:36.270" end="00:46:40.750">gotcha to watch out for depend when you set up app insights...new relic</p>
      <p begin="00:46:40.750" end="00:46:45.570">...dynamics or whatever you choose to use you need the way to basically name</p>
      <p begin="00:46:45.570" end="00:46:51.350">at the deployment and they all do it slightly differently and the reason is in</p>
      <p begin="00:46:51.350" end="00:46:56.200">production I have version one of pride in staging I have one-point-one</p>
      <p begin="00:46:56.200" end="00:47:01.150">...unless there's a unique identifier that basically identifies topology you're sitting down looking at</p>
      <p begin="00:47:01.150" end="00:47:04.470">the dashboard blended data you have no idea</p>
      <p begin="00:47:04.470" end="00:47:09.200">...this the new one is the old one is...good is it bad so again that little bit of</p>
      <p begin="00:47:09.200" end="00:47:12.940">up-front work in terms of cure my...here</p>
      <p begin="00:47:12.940" end="00:47:17.050">is the version associated with them here is basically the unique stamp so</p>
      <p begin="00:47:17.050" end="00:47:23.260">I can go back to my source code repository and creek create that goldin build.</p>
      <p begin="00:47:23.260" end="00:47:28.070">Because if I need that if I'm...role this out...different data sets and everything is ready is to</p>
      <p begin="00:47:28.070" end="00:47:31.890">basic gets ready to go from one to n and r operations and the</p>
      <p begin="00:47:31.890" end="00:47:34.850">...staff who really should talk to each other from time to time</p>
      <p begin="00:47:34.850" end="00:47:39.410">than helpful they must be comfortable working with that data they must be able to slice and dice</p>
      <p begin="00:47:39.410" end="00:47:42.430">through and use this is part of their daily exerciser going was</p>
      <p begin="00:47:42.430" end="00:47:47.910">...good built do the right things did we have regression is it on.</p>
      <p begin="00:47:47.910" end="00:47:49.940">All really good things.</p>
      <p begin="00:47:49.940" end="00:47:55.550">Right so we now have what we considered a pretty good one dc solution.</p>
      <p begin="00:47:55.550" end="00:47:58.400">All right so first thing we're going to do is we're going to stand-up as</p>
      <p begin="00:47:58.400" end="00:48:02.090">your traffic manager to set the stage...deployments</p>
      <p begin="00:48:02.090" end="00:48:07.030">...still just going to have one datacenter but we're going to front-end it with asher traffic manager with the appropriate</p>
      <p begin="00:48:07.030" end="00:48:10.600">...changes that basically says someone comes to you and you're going</p>
      <p begin="00:48:10.600" end="00:48:12.660">to resolve to the cone.</p>
      <p begin="00:48:13.690" end="00:48:18.490">Not make any other changes quite yet knowing test that make sure everything's fine.</p>
      <p begin="00:48:18.490" end="00:48:21.640">Again, it's all about iteratively setting the stage.</p>
      <p begin="00:48:21.640" end="00:48:25.880">...the ability to go back any point if you make mistakes.</p>
      <p begin="00:48:25.880" end="00:48:29.100">So, next thing we roll-out the additional datacenters</p>
      <p begin="00:48:30.140" end="00:48:34.390">again script change the topology push that we connect these other</p>
      <p begin="00:48:34.390" end="00:48:39.440">datacenters to get publishing as well so they...continuous feed of updates we don't put them on</p>
      <p begin="00:48:39.440" end="00:48:45.170">the measure traffic manager quite yet because they don't have any data.</p>
      <p begin="00:48:45.170" end="00:48:50.060">Ok, so, far so good and the title on the slide is wrongly should actually be global</p>
      <p begin="00:48:50.060" end="00:48:55.800">role output I added this earlier today don't tell anyone.</p>
      <p begin="00:48:55.800" end="00:49:00.720">So, the...latin almost the last piece...to do here is we're going to use a really,</p>
      <p begin="00:49:00.720" end="00:49:04.400">really cool new feature a relatively now.</p>
      <p begin="00:49:04.400" end="00:49:08.780">In as...sequel db...geo replication and we're going to do is</p>
      <p begin="00:49:08.780" end="00:49:12.400">...say hey dc...is my primary I'm</p>
      <p begin="00:49:12.400" end="00:49:16.230">...basically you backing system is your responsibility to</p>
      <p begin="00:49:16.230" end="00:49:21.070">continuously replicate the changes I make my primary to all of my secondary snout if I want</p>
      <p begin="00:49:21.070" end="00:49:26.180">to secondary staff secondary is to be readable I need to use</p>
      <p begin="00:49:26.180" end="00:49:30.080">...but the point which I'm ready to do this wonderful global</p>
      <p begin="00:49:30.080" end="00:49:35.740">deployment I'm ready to step up and I'm ready to put more resources into the system and premium gives me a</p>
      <p begin="00:49:35.740" end="00:49:39.920">way to trade money for engineering resources in time...you do not want to build this</p>
      <p begin="00:49:39.920" end="00:49:43.330">yourself it's just carries a lot of risk.</p>
      <p begin="00:49:43.330" end="00:49:47.830">So, the point as I have the continuous data replication flowing I now</p>
      <p begin="00:49:47.830" end="00:49:52.200">have my code which is automatically rolling out...staging across all my</p>
      <p begin="00:49:52.200" end="00:49:57.530">data centers I have measure traffic manager routing my data appropriately I</p>
      <p begin="00:49:57.530" end="00:50:01.600">have my data being replicated so each one of these I can hit.</p>
      <p begin="00:50:01.600" end="00:50:07.310">There were two caveats here most of the ...about easily</p>
      <p begin="00:50:07.310" end="00:50:11.860">...your way to victory most of the monitoring solutions but they don't do is give you</p>
      <p begin="00:50:11.860" end="00:50:16.780">a global roll up the say that these five applications are actually one big service you may have to</p>
      <p begin="00:50:16.780" end="00:50:21.230">invest an additional tooling in order to build that single-point dashboard or you</p>
      <p begin="00:50:21.230" end="00:50:24.700">by for monitors and you put them side-by-side.</p>
      <p begin="00:50:24.700" end="00:50:29.400">I'm not kidding I've actually seen that...number of times because it was quick and only required a trip down</p>
      <p begin="00:50:29.400" end="00:50:33.780">to best buy to buy time to do it right.</p>
      <p begin="00:50:33.780" end="00:50:36.250">Constance...</p>
      <p begin="00:50:36.250" end="00:50:40.140">And, then we turn on the other things...traffic manager...we put our feet up and go</p>
      <p begin="00:50:40.140" end="00:50:45.280">okay we're now actually in pretty good shape so come full circle back to</p>
      <p begin="00:50:45.280" end="00:50:50.470">story at the beginning this was not exactly how that remediation unfolded.</p>
      <p begin="00:50:50.470" end="00:50:54.960">How it actually unfolded...time pressure scramble communication</p>
      <p begin="00:50:54.960" end="00:50:59.390">paths was in a five-and-a-half our period some wonderful folks from</p>
      <p begin="00:50:59.390" end="00:51:02.990">css and dx sat down crunches...website and</p>
      <p begin="00:51:02.990" end="00:51:07.340">figured okay we can basically get this optimal enough</p>
      <p begin="00:51:07.340" end="00:51:12.960">to put into three datacenters all pointing at the same sequel database with</p>
      <p begin="00:51:12.960" end="00:51:14.370">...asp that output</p>
      <p begin="00:51:14.370" end="00:51:18.950">...installed to survive tobias about two weeks?</p>
      <p begin="00:51:18.950" end="00:51:23.370">So,...five-and-a-half hours to get back life and then in those two weeks they</p>
      <p begin="00:51:23.370" end="00:51:28.850">...re factored all of the data storage layer in order to take advantage of real</p>
      <p begin="00:51:28.850" end="00:51:30.520">...reticent optimism queries.</p>
      <p begin="00:51:31.560" end="00:51:37.310">But, again, that was a five-and-a-half our downtime during a critical media event they</p>
      <p begin="00:51:37.310" end="00:51:39.800">could have been avoid the actual real meadow</p>
      <p begin="00:51:39.800" end="00:51:46.680">the story there is a lot of folks use digital marketing agencies and digital media agencies.</p>
      <p begin="00:51:46.680" end="00:51:51.220">Okay,...I can get really candid.</p>
      <p begin="00:51:51.220" end="00:51:54.300">Different kinds of software different I.</p>
      <p begin="00:51:54.300" end="00:51:57.790">I I've spent ten years doing mobile...doing imbedded development and good</p>
      <p begin="00:51:57.790" end="00:52:01.180">...until about the last ten years doing large-scale distributed</p>
      <p begin="00:52:01.180" end="00:52:06.030">systems gotten pretty good that because I made a lot of mistakes if you put mediacy mediad...a</p>
      <p begin="00:52:06.030" end="00:52:09.060">...am a mobile application if you get a stick figure</p>
      <p begin="00:52:09.060" end="00:52:13.550">you're doing well because it's a different type of app make different choices</p>
      <p begin="00:52:13.550" end="00:52:17.020">are a lot of agencies and system integrator that are very good at they</p>
      <p begin="00:52:17.020" end="00:52:21.940">have core competency I've had and for escalation in the last couple years from the same root</p>
      <p begin="00:52:21.940" end="00:52:25.880">...a team which phenomenally amazingly</p>
      <p begin="00:52:25.880" end="00:52:29.880">good doing mobile apps and digital experiences but who has never built a</p>
      <p begin="00:52:29.880" end="00:52:34.490">scalable back in system they get chosen and then they have learning</p>
      <p begin="00:52:34.490" end="00:52:38.980">moments so if you're either in the position building such a team where</p>
      <p begin="00:52:38.980" end="00:52:42.080">...hiring such a team make sure there's a balance</p>
      <p begin="00:52:42.080" end="00:52:47.170">skillset because you don't want someone learning about all of this stuff and you're...</p>
      <p begin="00:52:47.170" end="00:52:48.560">All right.</p>
      <p begin="00:52:48.560" end="00:52:52.580">So, this is turning on...as</p>
      <p begin="00:52:52.580" end="00:52:56.980">...sequel db geo replication I don't often come up and</p>
      <p begin="00:52:56.980" end="00:53:00.990">say that's something that is like a really hard physics...engineering problem we've</p>
      <p begin="00:53:00.990" end="00:53:05.800">made absurdly simple but in this case we really did you go in you pick</p>
      <p begin="00:53:05.800" end="00:53:08.620">a gr replication you see which other datacenters you</p>
      <p begin="00:53:08.620" end="00:53:13.060">...replicated to stand-up some new databases and if you're in premium mode</p>
      <p begin="00:53:13.060" end="00:53:19.030">...the readable it actually works really well.</p>
      <p begin="00:53:19.030" end="00:53:23.360">All right so if you...that feature highly recommended all</p>
      <p begin="00:53:23.360" end="00:53:26.280">right quick recap...about the six-and-a-half minutes we have left</p>
      <p begin="00:53:26.280" end="00:53:29.880">...together before I throw it open some questions for warning in advance</p>
      <p begin="00:53:29.880" end="00:53:34.160">...don't ask me questions I will ask you questions mine will be more awkward</p>
      <p begin="00:53:34.160" end="00:53:37.360">so most of the changes I've talked about they did not</p>
      <p begin="00:53:37.360" end="00:53:42.190">involve changing code changing code at the last-minute is risky</p>
      <p begin="00:53:42.190" end="00:53:46.860">it's dangerous and under stress and strain people will make mistakes so</p>
      <p begin="00:53:46.860" end="00:53:51.960">let's avoid that let's use these techniques in terms of having a dynamic</p>
      <p begin="00:53:51.960" end="00:53:56.550">cloud environment to build add more capacity the system to by the time to do the code</p>
      <p begin="00:53:56.550" end="00:54:01.550">right based on data and observation we need to grow and go quickly</p>
      <p begin="00:54:01.550" end="00:54:04.630">...a good thing not to have to write code it's a good thing just</p>
      <p begin="00:54:04.630" end="00:54:07.700">...sinus small dynamic check.</p>
      <p begin="00:54:07.700" end="00:54:12.610">But, unless you have a strong foundation to build on unless you invested in observation</p>
      <p begin="00:54:12.610" end="00:54:14.540">...telemetry by renting it not building</p>
      <p begin="00:54:14.540" end="00:54:18.350">it you won't know if you're up down moving for moving</p>
      <p begin="00:54:18.350" end="00:54:22.410">...moving sideways you need to have a system architected to allow you to</p>
      <p begin="00:54:22.410" end="00:54:27.030">add more capacity and add more resources any to pay attention to where the</p>
      <p begin="00:54:27.030" end="00:54:32.200">single-point of failure and work around them adding all the capacity front-end capacity in the</p>
      <p begin="00:54:32.200" end="00:54:36.340">world will not save you from creating too many connections are creating a</p>
      <p begin="00:54:36.340" end="00:54:41.410">...escalation...everything rippling back from that you have to watch out...single-point</p>
      <p begin="00:54:41.410" end="00:54:46.320">...but ultimately the biggest thing is if you're if you're making data-driven decisions</p>
      <p begin="00:54:46.320" end="00:54:51.180">if you an easy way to look...system...stick some people called load testing</p>
      <p begin="00:54:51.180" end="00:54:56.060">...a more colloquial term nc system response and make decisions there</p>
      <p begin="00:54:56.060" end="00:55:01.010">you're in a much better situation especially in moments of stressing crisis to know that</p>
      <p begin="00:55:01.010" end="00:55:04.870">mi making decisions that are...the world better and you will make some that make</p>
      <p begin="00:55:04.870" end="00:55:09.940">it worse but you'll and be able to immediately go wow that just took us from like a hundred ops</p>
      <p begin="00:55:09.940" end="00:55:14.810">...three we should probably back that change out and because we invested mail-in</p>
      <p begin="00:55:14.810" end="00:55:20.110">it's just backing feature branch out and because we try doing that we had as part of</p>
      <p begin="00:55:20.110" end="00:55:24.100">our culture beforehand...our day-to-day experiences we weren't name looking up</p>
      <p begin="00:55:24.100" end="00:55:28.570">the get manual while the site was down because that's never happened</p>
      <p begin="00:55:28.570" end="00:55:34.080">they totally did that all right so thanks for...pontificate for fifty</p>
      <p begin="00:55:34.080" end="00:55:40.050">six minutes so the mikes are now open actually one quick little thing I</p>
      <p begin="00:55:40.050" end="00:55:44.930">...much like successes exhilarating terrifying its most awesome thing they can ever happen</p>
      <p begin="00:55:44.930" end="00:55:49.500">...building software is also terrifying if you weren't quite ready for it to be honest a lot of times</p>
      <p begin="00:55:49.500" end="00:55:53.190">...never actually quite ready...to get the foundations right up-front</p>
      <p begin="00:55:53.190" end="00:55:58.070">inside this life if the lights aren't on you are stumbling around the dark...telemetry and look at</p>
      <p begin="00:55:58.070" end="00:56:02.960">it and spend your way to victory engineering time is too expensive it's best to do that in a</p>
      <p begin="00:56:02.960" end="00:56:09.210">call measured fashion my team has a clinic and up on the third-floor will be here all week</p>
      <p begin="00:56:09.210" end="00:56:14.170">...you have design questions your scenarios you have interesting things you want to do...just want to come make fun of</p>
      <p begin="00:56:14.170" end="00:56:20.790">...by all means to get a great bunch of folks with a libm lot-of wipe words and we're happy to nerd with you.</p>
      <p begin="00:56:20.790" end="00:56:31.980">Right so.</p>
      <p begin="00:56:31.980" end="00:56:35.860">Site to questions so the first one is in the geo replicated</p>
      <p begin="00:56:35.860" end="00:56:39.970">sequel database and scenario how to write to secondary datacenters fullback the</p>
      <p begin="00:56:39.970" end="00:56:44.600">primary I was one of some is going to catch that one and the second question has to do how does</p>
      <p begin="00:56:44.600" end="00:56:50.230">it with failures...primary so I'll take them in order to the first question is</p>
      <p begin="00:56:50.230" end="00:56:52.760">...you kind of left out the part where you only had</p>
      <p begin="00:56:52.760" end="00:56:56.490">one readable primary how does that happen so there's two ways to handle this</p>
      <p begin="00:56:56.490" end="00:57:01.080">...one is you allow mutate...mute data mutation</p>
      <p begin="00:57:01.080" end="00:57:04.790">...from any deployed instance but in your code you actually have to</p>
      <p begin="00:57:04.790" end="00:57:09.550">connection strengths one is this is where I go to read data another one is this is</p>
      <p begin="00:57:09.550" end="00:57:13.300">...again you or you say I can only do</p>
      <p begin="00:57:13.300" end="00:57:17.090">rights on the primary datacenter or the third one which is</p>
      <p begin="00:57:17.090" end="00:57:21.870">a significantly more engineering investment which is you implement command query response segregation</p>
      <p begin="00:57:21.870" end="00:57:26.720">ascension use message driven updates but that's a lot of work.</p>
      <p begin="00:57:26.720" end="00:57:32.750">So, the second one is around what happens if that primary database itself fails over you</p>
      <p begin="00:57:32.750" end="00:57:36.990">to options you can di which is the easy thing to do or</p>
      <p begin="00:57:36.990" end="00:57:41.850">what you can do is put the system any reduced response state saying that right workloads</p>
      <p begin="00:57:41.850" end="00:57:45.490">are temporarily offline and then just continue to read from</p>
      <p begin="00:57:45.490" end="00:57:49.890">cash or if you want to add engineering investment start reaching out across the network</p>
      <p begin="00:57:49.890" end="00:57:53.500">the other secondary datacenters again it's just how far down that click</p>
      <p begin="00:57:53.500" end="00:57:55.880">stop of engineering investment you want to go where's the</p>
      <p begin="00:57:55.880" end="00:58:03.310">...no right answer what's wrong answers but no one truly right answer?</p>
      <p begin="00:58:03.310" end="00:58:06.530">That's great that's helping...pick up on that.</p>
      <p begin="00:58:06.530" end="00:58:17.320">I'll time for one more...I'm going to ask one.</p>
      <p begin="00:58:17.320" end="00:58:22.580">...rate...if you...if design questions you just want to walk through scenarios you in a kind of just</p>
      <p begin="00:58:22.580" end="00:58:25.520">...some stuff we are all were so we ran for the</p>
      <p begin="00:58:25.520" end="00:58:30.160">rest week or more than happy to go into any many detail highly recommend check out the stuff we have on</p>
      <p begin="00:58:30.160" end="00:58:33.740">...hub lots of...detail there we love pr as we love issues</p>
      <p begin="00:58:33.740" end="00:58:39.080">...love discussion and other than that I hope you guys...conference and I have...</p>

    </div>
  </body>
</tt>